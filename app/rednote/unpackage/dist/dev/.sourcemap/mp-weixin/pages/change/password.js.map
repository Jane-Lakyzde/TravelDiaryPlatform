{"version":3,"file":"password.js","sources":["pages/change/password.vue","../../../../biji/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhbmdlL3Bhc3N3b3JkLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"change-password\">\r\n    <view class=\"form-group\">\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">当前密码</text>\r\n        <input v-model=\"form.oldPassword\" class=\"input\" type=\"password\" placeholder=\"请输入当前密码\" />\r\n      </view>\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">新密码</text>\r\n        <input v-model=\"form.newPassword\" class=\"input\" type=\"password\" placeholder=\"请输入新密码\" />\r\n      </view>\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">确认新密码</text>\r\n        <input v-model=\"form.confirmPassword\" class=\"input\" type=\"password\" placeholder=\"请再次输入新密码\" />\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"tips\">\r\n      <text class=\"tip-text\">密码长度至少6位，包含字母和数字</text>\r\n    </view>\r\n\r\n    <view class=\"btn-group\">\r\n      <button class=\"btn-save\" @tap=\"handleSave\">确认修改</button>\r\n      <button class=\"btn-cancel\" @tap=\"handleCancel\">取消</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useUserStore } from '@/store/modules/user'\r\n\r\nconst userStore = useUserStore()\r\nconst form = ref({\r\n  oldPassword: '',\r\n  newPassword: '',\r\n  confirmPassword: ''\r\n})\r\n\r\nconst validatePassword = (password) => {\r\n  const reg = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$/\r\n  return reg.test(password)\r\n}\r\n\r\nconst handleSave = () => {\r\n  if (!form.value.oldPassword) {\r\n    uni.showToast({ title: '请输入当前密码', icon: 'none' })\r\n    return\r\n  }\r\n  if (!form.value.newPassword) {\r\n    uni.showToast({ title: '请输入新密码', icon: 'none' })\r\n    return\r\n  }\r\n  if (!form.value.confirmPassword) {\r\n    uni.showToast({ title: '请确认新密码', icon: 'none' })\r\n    return\r\n  }\r\n  if (form.value.newPassword !== form.value.confirmPassword) {\r\n    uni.showToast({ title: '两次输入的密码不一致', icon: 'none' })\r\n    return\r\n  }\r\n  if (!validatePassword(form.value.newPassword)) {\r\n    uni.showToast({ title: '密码必须包含字母和数字，且长度至少6位', icon: 'none' })\r\n    return\r\n  }\r\n\r\n  // 这里应该调用修改密码的API\r\n  // 由于后端还没实现，这里只做模拟\r\n  uni.showLoading({ title: '修改中...' })\r\n  setTimeout(() => {\r\n    uni.hideLoading()\r\n    uni.showToast({ title: '修改成功', icon: 'success' })\r\n    setTimeout(() => {\r\n      uni.navigateBack()\r\n    }, 1500)\r\n  }, 1500)\r\n}\r\n\r\nconst handleCancel = () => {\r\n  uni.navigateBack()\r\n}\r\n</script>\r\n\r\n<style>\r\n.change-password {\r\n  min-height: 100vh;\r\n  background: #fff;\r\n  padding: 30rpx;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.label {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 44rpx;\r\n  padding: 0 40rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.tips {\r\n  padding: 20rpx 0;\r\n}\r\n\r\n.tip-text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.btn-group {\r\n  margin-top: 60rpx;\r\n}\r\n\r\n.btn-save, .btn-cancel {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  border-radius: 44rpx;\r\n  font-size: 32rpx;\r\n  margin-bottom: 30rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-save {\r\n  background: #DB9EA2;\r\n  color: #fff;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #f5f5f5;\r\n  color: #666;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/Git clone/TravelDiaryPlatform/app/rednote/pages/change/password.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","uni","MiniProgramPage"],"mappings":";;;;;;AAgCkBA,uBAAAA,aAAc;AAChC,UAAM,OAAOC,cAAAA,IAAI;AAAA,MACf,aAAa;AAAA,MACb,aAAa;AAAA,MACb,iBAAiB;AAAA,IACnB,CAAC;AAED,UAAM,mBAAmB,CAAC,aAAa;AACrC,YAAM,MAAM;AACZ,aAAO,IAAI,KAAK,QAAQ;AAAA,IAC1B;AAEA,UAAM,aAAa,MAAM;AACvB,UAAI,CAAC,KAAK,MAAM,aAAa;AAC3BC,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,QAAQ;AAChD;AAAA,MACD;AACD,UAAI,CAAC,KAAK,MAAM,aAAa;AAC3BA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAC/C;AAAA,MACD;AACD,UAAI,CAAC,KAAK,MAAM,iBAAiB;AAC/BA,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAC/C;AAAA,MACD;AACD,UAAI,KAAK,MAAM,gBAAgB,KAAK,MAAM,iBAAiB;AACzDA,sBAAG,MAAC,UAAU,EAAE,OAAO,cAAc,MAAM,QAAQ;AACnD;AAAA,MACD;AACD,UAAI,CAAC,iBAAiB,KAAK,MAAM,WAAW,GAAG;AAC7CA,sBAAG,MAAC,UAAU,EAAE,OAAO,uBAAuB,MAAM,QAAQ;AAC5D;AAAA,MACD;AAIDA,oBAAAA,MAAI,YAAY,EAAE,OAAO,SAAQ,CAAE;AACnC,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAa;AACjBA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,WAAW;AAChD,mBAAW,MAAM;AACfA,wBAAAA,MAAI,aAAc;AAAA,QACnB,GAAE,IAAI;AAAA,MACR,GAAE,IAAI;AAAA,IACT;AAEA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,aAAc;AAAA,IACpB;;;;;;;;;;;;;;;AC/EA,GAAG,WAAWC,SAAe;"}