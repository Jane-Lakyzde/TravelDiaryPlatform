{"version":3,"file":"home.js","sources":["pages/user/home.vue","../../../biji/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9ob21lLnZ1ZQ"],"sourcesContent":["<!-- pages/user/home.vue -->\n<template>\n  <view class=\"home-container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"header\">\n      <view class=\"nav-left\">\n        <input\n          v-model=\"searchText\"\n          placeholder=\"搜索帖子\"\n          class=\"search-input\"\n          @confirm=\"handleSearch\"\n        />\n      </view>\n      <view class=\"nav-right\">\n        <button type=\"primary\" @tap=\"handleCreatePost\" class=\"post-btn\">\n          <text class=\"iconfont icon-plus\"></text>发帖\n        </button>\n      </view>\n    </view>\n\n    <view class=\"posts-container\">\n      <view class=\"posts-grid\">\n        <!-- 左侧帖子列表 -->\n        <view class=\"posts-column\">\n          <view v-for=\"post in leftPosts\" :key=\"post.id\" class=\"post-card\">\n            <view class=\"post-header\">\n              <image :src=\"post.avatar\" class=\"avatar\" mode=\"aspectFill\" />\n              <view class=\"user-info\">\n                <text class=\"username\">{{ post.username }}</text>\n                <text class=\"post-time\">{{ post.time }}</text>\n              </view>\n            </view>\n            <view class=\"post-content\">\n              <text class=\"post-text\">{{ post.content }}</text>\n              <view class=\"image-list\">\n                <image\n                  v-for=\"(image, index) in post.images\"\n                  :key=\"index\"\n                  :src=\"image\"\n                  class=\"post-image\"\n                  mode=\"aspectFill\"\n                  @tap=\"previewImage(post.images, index)\"\n                />\n              </view>\n            </view>\n            <view class=\"post-actions\">\n              <button\n                :class=\"['action-btn', post.isLiked ? 'active' : '']\"\n                @tap=\"handleLike(post)\"\n              >\n                <text class=\"iconfont icon-star\"></text>\n                <text>{{ post.likes }}</text>\n              </button>\n              <button class=\"action-btn\" @tap=\"handleComment(post)\">\n                <text class=\"iconfont icon-comment\"></text>\n                <text>{{ post.comments }}</text>\n              </button>\n              <button class=\"action-btn\" @tap=\"handleShare(post)\">\n                <text class=\"iconfont icon-share\"></text>\n                <text>分享</text>\n              </button>\n            </view>\n          </view>\n        </view>\n\n        <!-- 右侧帖子列表 -->\n        <view class=\"posts-column\">\n          <view v-for=\"post in rightPosts\" :key=\"post.id\" class=\"post-card\">\n            <view class=\"post-header\">\n              <image :src=\"post.avatar\" class=\"avatar\" mode=\"aspectFill\" />\n              <view class=\"user-info\">\n                <text class=\"username\">{{ post.username }}</text>\n                <text class=\"post-time\">{{ post.time }}</text>\n              </view>\n            </view>\n            <view class=\"post-content\">\n              <text class=\"post-text\">{{ post.content }}</text>\n              <view class=\"image-list\">\n                <image\n                  v-for=\"(image, index) in post.images\"\n                  :key=\"index\"\n                  :src=\"image\"\n                  class=\"post-image\"\n                  mode=\"aspectFill\"\n                  @tap=\"previewImage(post.images, index)\"\n                />\n              </view>\n            </view>\n            <view class=\"post-actions\">\n              <button\n                :class=\"['action-btn', post.isLiked ? 'active' : '']\"\n                @tap=\"handleLike(post)\"\n              >\n                <text class=\"iconfont icon-star\"></text>\n                <text>{{ post.likes }}</text>\n              </button>\n              <button class=\"action-btn\" @tap=\"handleComment(post)\">\n                <text class=\"iconfont icon-comment\"></text>\n                <text>{{ post.comments }}</text>\n              </button>\n              <button class=\"action-btn\" @tap=\"handleShare(post)\">\n                <text class=\"iconfont icon-share\"></text>\n                <text>分享</text>\n              </button>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { initialPosts } from '../../data/posts.js'\n\nconst searchText = ref('')\nconst leftPosts = ref([])\nconst rightPosts = ref([])\n\n// 处理搜索\nconst handleSearch = () => {\n  console.log('搜索内容:', searchText.value)\n  // 这里添加搜索逻辑\n}\n\n// 处理点赞\nconst handleLike = (post) => {\n  post.isLiked = !post.isLiked\n  post.likes += post.isLiked ? 1 : -1\n}\n\n// 处理评论\nconst handleComment = (post) => {\n  console.log('评论帖子:', post.id)\n  // 这里添加评论逻辑\n}\n\n// 处理分享\nconst handleShare = (post) => {\n  uni.share({\n    provider: 'weixin',\n    scene: 'WXSceneSession',\n    type: 0,\n    title: post.content,\n    success: function (res) {\n      console.log('分享成功:', res)\n    },\n    fail: function (err) {\n      console.log('分享失败:', err)\n    }\n  })\n}\n\n// 处理发帖\nconst handleCreatePost = () => {\n  uni.navigateTo({\n    url: '/pages/user/post'\n  })\n}\n\n// 预览图片\nconst previewImage = (images, current) => {\n  uni.previewImage({\n    urls: images,\n    current: images[current]\n  })\n}\n\nonMounted(() => {\n  // 模拟从数据库获取数据\n  // 如果获取失败，使用初始数据\n  const allPosts = initialPosts\n  // 将帖子平均分配到左右两侧\n  const midIndex = Math.ceil(allPosts.length / 2)\n  leftPosts.value = allPosts.slice(0, midIndex)\n  rightPosts.value = allPosts.slice(midIndex)\n})\n</script>\n\n<style>\n.home-container {\n  min-height: 100vh;\n  background-color: #f5f7fa;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #ffffff;\n  padding: 20rpx;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n  box-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);\n}\n\n.search-input {\n  width: 400rpx;\n  height: 60rpx;\n  background-color: #f5f5f5;\n  border-radius: 30rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n}\n\n.post-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 60rpx;\n  padding: 0 20rpx;\n  font-size: 28rpx;\n}\n\n.posts-container {\n  margin-top: 100rpx;\n  padding: 20rpx;\n}\n\n.posts-grid {\n  display: flex;\n  justify-content: space-between;\n}\n\n.posts-column {\n  width: 48%;\n}\n\n.post-card {\n  background-color: #ffffff;\n  border-radius: 12rpx;\n  margin-bottom: 20rpx;\n  padding: 20rpx;\n  box-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);\n}\n\n.post-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 50%;\n}\n\n.user-info {\n  margin-left: 20rpx;\n}\n\n.username {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333333;\n}\n\n.post-time {\n  font-size: 24rpx;\n  color: #999999;\n  margin-top: 4rpx;\n}\n\n.post-content {\n  margin-bottom: 20rpx;\n}\n\n.post-text {\n  font-size: 28rpx;\n  color: #333333;\n  line-height: 1.5;\n}\n\n.image-list {\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 20rpx;\n}\n\n.post-image {\n  width: 220rpx;\n  height: 220rpx;\n  margin-right: 10rpx;\n  margin-bottom: 10rpx;\n  border-radius: 8rpx;\n}\n\n.post-actions {\n  display: flex;\n  justify-content: space-around;\n  border-top: 1rpx solid #eeeeee;\n  padding-top: 20rpx;\n}\n\n.action-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  font-size: 24rpx;\n  color: #666666;\n  padding: 0;\n}\n\n.action-btn.active {\n  color: #007AFF;\n}\n\n.action-btn text {\n  margin-left: 8rpx;\n}\n\n/* 图标字体 */\n@font-face {\n  font-family: 'iconfont';\n  src: url('//at.alicdn.com/t/font_xxx.woff2') format('woff2');\n}\n\n.iconfont {\n  font-family: 'iconfont';\n  font-size: 32rpx;\n}\n\n.icon-plus:before { content: '\\e6da'; }\n.icon-star:before { content: '\\e7df'; }\n.icon-comment:before { content: '\\e8e8'; }\n.icon-share:before { content: '\\e8b8'; }\n</style> ","import MiniProgramPage from 'D:/gamee_js/app/rednote/pages/user/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted","initialPosts","MiniProgramPage"],"mappings":";;;;;;AAoHA,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,YAAYA,cAAG,IAAC,EAAE;AACxB,UAAM,aAAaA,cAAG,IAAC,EAAE;AAGzB,UAAM,eAAe,MAAM;AACzBC,oBAAY,MAAA,MAAA,OAAA,8BAAA,SAAS,WAAW,KAAK;AAAA,IAEvC;AAGA,UAAM,aAAa,CAAC,SAAS;AAC3B,WAAK,UAAU,CAAC,KAAK;AACrB,WAAK,SAAS,KAAK,UAAU,IAAI;AAAA,IACnC;AAGA,UAAM,gBAAgB,CAAC,SAAS;AAC9BA,oBAAY,MAAA,MAAA,OAAA,8BAAA,SAAS,KAAK,EAAE;AAAA,IAE9B;AAGA,UAAM,cAAc,CAAC,SAAS;AAC5BA,oBAAAA,MAAI,MAAM;AAAA,QACR,UAAU;AAAA,QACV,OAAO;AAAA,QACP,MAAM;AAAA,QACN,OAAO,KAAK;AAAA,QACZ,SAAS,SAAU,KAAK;AACtBA,wBAAAA,MAAA,MAAA,OAAA,8BAAY,SAAS,GAAG;AAAA,QACzB;AAAA,QACD,MAAM,SAAU,KAAK;AACnBA,wBAAAA,MAAA,MAAA,OAAA,8BAAY,SAAS,GAAG;AAAA,QACzB;AAAA,MACL,CAAG;AAAA,IACH;AAGA,UAAM,mBAAmB,MAAM;AAC7BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAGA,UAAM,eAAe,CAAC,QAAQ,YAAY;AACxCA,oBAAAA,MAAI,aAAa;AAAA,QACf,MAAM;AAAA,QACN,SAAS,OAAO,OAAO;AAAA,MAC3B,CAAG;AAAA,IACH;AAEAC,kBAAAA,UAAU,MAAM;AAGd,YAAM,WAAWC,WAAY;AAE7B,YAAM,WAAW,KAAK,KAAK,SAAS,SAAS,CAAC;AAC9C,gBAAU,QAAQ,SAAS,MAAM,GAAG,QAAQ;AAC5C,iBAAW,QAAQ,SAAS,MAAM,QAAQ;AAAA,IAC5C,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChLD,GAAG,WAAWC,SAAe;"}