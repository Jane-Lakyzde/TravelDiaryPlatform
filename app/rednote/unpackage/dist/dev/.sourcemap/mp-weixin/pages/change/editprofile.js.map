{"version":3,"file":"editprofile.js","sources":["pages/change/editprofile.vue","../../../../biji/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2hhbmdlL2VkaXRwcm9maWxlLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"edit-profile\">\r\n    <view class=\"form-group\">\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">用户名</text>\r\n        <input v-model=\"form.username\" class=\"input\" placeholder=\"请输入用户名\" />\r\n      </view>\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">个人简介</text>\r\n        <textarea v-model=\"form.bio\" class=\"textarea\" placeholder=\"介绍一下自己吧\" maxlength=\"100\" />\r\n        <text class=\"word-count\">{{ form.bio.length }}/100</text>\r\n      </view>\r\n      <view class=\"form-item\">\r\n        <text class=\"label\">邮箱</text>\r\n        <input v-model=\"form.email\" class=\"input\" placeholder=\"请输入邮箱\"  />\r\n      </view>\r\n    </view>\r\n\r\n    <view class=\"btn-group\">\r\n      <button class=\"btn-save\" @tap=\"handleSave\">保存</button>\r\n      <button class=\"btn-cancel\" @tap=\"handleCancel\">取消</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useUserStore } from '@/store/modules/user'\r\n\r\nconst userStore = useUserStore()\r\nconst form = ref({\r\n  username: '',\r\n  bio: '',\r\n  email: ''\r\n})\r\n\r\nonMounted(() => {\r\n  const userInfo = userStore.getUserInfo()\r\n  form.value = {\r\n    username: userInfo.username || '',\r\n    bio: userInfo.bio || '',\r\n    email: userInfo.email || ''\r\n  }\r\n})\r\n\r\nconst handleSave = () => {\r\n  if (!form.value.username.trim()) {\r\n    uni.showToast({ title: '请输入用户名', icon: 'none' })\r\n    return\r\n  }\r\n\r\n  // 更新用户信息\r\n  userStore.updateUserInfo({\r\n    ...userStore.getUserInfo(),\r\n    username: form.value.username,\r\n    bio: form.value.bio,\r\n    email: form.value.email\r\n  })\r\n  uni.showToast({ title: '保存成功', icon: 'success' })\r\nconsole.log(userStore.getUserInfo());\r\n\r\n  setTimeout(() => {\r\n    uni.navigateBack()\r\n  }, 100)\r\n}\r\n\r\nconst handleCancel = () => {\r\n  uni.navigateBack()\r\n}\r\n</script>\r\n\r\n<style>\r\n.edit-profile {\r\n  min-height: 100vh;\r\n  background: #fff;\r\n  padding: 30rpx;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 60rpx;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 40rpx;\r\n  position: relative;\r\n}\r\n\r\n.label {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.input {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 44rpx;\r\n  padding: 0 40rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.textarea {\r\n  width: 100%;\r\n  height: 200rpx;\r\n  background: #f5f5f5;\r\n  border-radius: 20rpx;\r\n  padding: 20rpx 40rpx;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n}\r\n\r\n.word-count {\r\n  position: absolute;\r\n  right: 20rpx;\r\n  bottom: 20rpx;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.btn-group {\r\n  margin-top: 60rpx;\r\n}\r\n\r\n.btn-save, .btn-cancel {\r\n  width: 100%;\r\n  height: 88rpx;\r\n  border-radius: 44rpx;\r\n  font-size: 32rpx;\r\n  margin-bottom: 30rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.btn-save {\r\n  background: #DB9EA2;\r\n  color: #fff;\r\n}\r\n\r\n.btn-cancel {\r\n  background: #f5f5f5;\r\n  color: #666;\r\n}\r\n</style> ","import MiniProgramPage from 'D:/Git clone/TravelDiaryPlatform/app/rednote/pages/change/editprofile.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserStore","ref","onMounted","uni","MiniProgramPage"],"mappings":";;;;;;AA6BA,UAAM,YAAYA,mBAAAA,aAAc;AAChC,UAAM,OAAOC,cAAAA,IAAI;AAAA,MACf,UAAU;AAAA,MACV,KAAK;AAAA,MACL,OAAO;AAAA,IACT,CAAC;AAEDC,kBAAAA,UAAU,MAAM;AACd,YAAM,WAAW,UAAU,YAAa;AACxC,WAAK,QAAQ;AAAA,QACX,UAAU,SAAS,YAAY;AAAA,QAC/B,KAAK,SAAS,OAAO;AAAA,QACrB,OAAO,SAAS,SAAS;AAAA,MAC1B;AAAA,IACH,CAAC;AAED,UAAM,aAAa,MAAM;AACvB,UAAI,CAAC,KAAK,MAAM,SAAS,KAAI,GAAI;AAC/BC,sBAAG,MAAC,UAAU,EAAE,OAAO,UAAU,MAAM,QAAQ;AAC/C;AAAA,MACD;AAGD,gBAAU,eAAe;AAAA,QACvB,GAAG,UAAU,YAAa;AAAA,QAC1B,UAAU,KAAK,MAAM;AAAA,QACrB,KAAK,KAAK,MAAM;AAAA,QAChB,OAAO,KAAK,MAAM;AAAA,MACtB,CAAG;AACDA,oBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,WAAW;AAClDA,oBAAAA,MAAY,MAAA,OAAA,sCAAA,UAAU,YAAa,CAAA;AAEjC,iBAAW,MAAM;AACfA,sBAAAA,MAAI,aAAc;AAAA,MACnB,GAAE,GAAG;AAAA,IACR;AAEA,UAAM,eAAe,MAAM;AACzBA,oBAAAA,MAAI,aAAc;AAAA,IACpB;;;;;;;;;;;;;;;;ACnEA,GAAG,WAAWC,SAAe;"}