{"version":3,"file":"msg.js","sources":["pages/user/msg.vue","../../../../biji/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9tc2cudnVl"],"sourcesContent":["<!-- pages/user/msg.vue -->\r\n<template>\r\n  <view class=\"msg-container\">\r\n    <!-- 顶部导航栏 -->\r\n    <view class=\"header\">\r\n      <view class=\"nav-left\">\r\n        <input\r\n          v-model=\"searchText\"\r\n          placeholder=\"搜索消息\"\r\n          class=\"search-input\"\r\n          @confirm=\"handleSearch\"\r\n        />\r\n      </view>\r\n      <view class=\"nav-right\">\r\n        <button class=\"create-btn\" @tap=\"handleCreateChat\">\r\n          <text class=\"iconfont icon-plus\"></text>\r\n          <text>发起聊天</text>\r\n        </button>\r\n      </view>\r\n    </view>\r\n\r\n    <scroll-view class=\"content\" scroll-y>\r\n      <view class=\"chat-list\">\r\n        <view \r\n          v-for=\"chat in chatList\" \r\n          :key=\"chat.id\" \r\n          class=\"chat-item\"\r\n          @tap=\"handleChat(chat)\"\r\n        >\r\n          <view class=\"chat-avatar\">\r\n            <image :src=\"chat.avatar\" mode=\"aspectFill\" />\r\n            <view v-if=\"chat.unread\" class=\"unread-badge\">{{ chat.unread }}</view>\r\n          </view>\r\n          <view class=\"chat-info\">\r\n            <view class=\"chat-header\">\r\n              <text class=\"chat-name\">{{ chat.name }}</text>\r\n              <text class=\"chat-time\">{{ chat.time }}</text>\r\n            </view>\r\n            <view class=\"chat-preview\">\r\n              <text class=\"chat-message\">{{ chat.lastMessage }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n\r\n    <!-- 新建聊天弹窗 -->\r\n    <uni-popup ref=\"createPopup\" type=\"center\">\r\n      <view class=\"create-popup\">\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">发起聊天</text>\r\n          <text class=\"close-btn\" @tap=\"createDialogVisible = false\">×</text>\r\n        </view>\r\n        <view class=\"popup-content\">\r\n          <view class=\"search-box\">\r\n            <input\r\n              v-model=\"searchUserText\"\r\n              placeholder=\"搜索用户\"\r\n              class=\"search-input\"\r\n              @input=\"handleSearchUser\"\r\n            />\r\n          </view>\r\n          <scroll-view class=\"user-list\" scroll-y>\r\n            <view \r\n              v-for=\"user in searchResults\" \r\n              :key=\"user.id\"\r\n              class=\"user-item\"\r\n              @tap=\"handleSelectUser(user)\"\r\n            >\r\n              <image :src=\"user.avatar\" class=\"user-avatar\" mode=\"aspectFill\" />\r\n              <view class=\"user-info\">\r\n                <text class=\"user-name\">{{ user.username }}</text>\r\n                <text class=\"user-id\">ID: {{ user.id }}</text>\r\n              </view>\r\n            </view>\r\n          </scroll-view>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst searchText = ref('')\r\nconst createDialogVisible = ref(false)\r\nconst searchUserText = ref('')\r\nconst searchResults = ref([])\r\n\r\nconst chatList = ref([\r\n  {\r\n    id: 'chat001',\r\n    name: '张三',\r\n    avatar: 'https://placeholder.com/80x80',\r\n    lastMessage: '你好，最近怎么样？',\r\n    time: '10:30',\r\n    unread: 2\r\n  },\r\n  {\r\n    id: 'chat002',\r\n    name: '李四',\r\n    avatar: 'https://placeholder.com/80x80',\r\n    lastMessage: '周末有空一起吃饭吗？',\r\n    time: '昨天',\r\n    unread: 0\r\n  },\r\n  {\r\n    id: 'chat003',\r\n    name: '王五',\r\n    avatar: 'https://placeholder.com/80x80',\r\n    lastMessage: '好的，没问题！',\r\n    time: '周一',\r\n    unread: 0\r\n  }\r\n])\r\n\r\n// 处理搜索\r\nconst handleSearch = () => {\r\n  uni.showToast({\r\n    title: '搜索功能开发中',\r\n    icon: 'none'\r\n  })\r\n}\r\n\r\n// 处理发起聊天\r\nconst handleCreateChat = () => {\r\n  createDialogVisible.value = true\r\n}\r\n\r\n// 处理搜索用户\r\nconst handleSearchUser = () => {\r\n  // 这里添加搜索用户的逻辑\r\n  searchResults.value = [\r\n    {\r\n      id: 'user001',\r\n      username: '张三',\r\n      avatar: 'https://placeholder.com/80x80'\r\n    },\r\n    {\r\n      id: 'user002',\r\n      username: '李四',\r\n      avatar: 'https://placeholder.com/80x80'\r\n    }\r\n  ]\r\n}\r\n\r\n// 处理选择用户\r\nconst handleSelectUser = (user) => {\r\n  createDialogVisible.value = false\r\n  uni.navigateTo({\r\n    url: `/pages/chat/detail?id=${user.id}`\r\n  })\r\n}\r\n\r\n// 处理进入聊天\r\nconst handleChat = (chat) => {\r\n  uni.navigateTo({\r\n    url: `/pages/chat/detail?id=${chat.id}`\r\n  })\r\n}\r\n</script>\r\n\r\n<style>\r\n.msg-container {\r\n  min-height: 100vh;\r\n  background-color: #f5f7fa;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.header {\r\n  background-color: #ffffff;\r\n  box-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);\r\n  padding: 20rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n}\r\n\r\n.nav-left {\r\n  flex: 1;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  height: 72rpx;\r\n  background-color: #f5f5f5;\r\n  border-radius: 36rpx;\r\n  padding: 0 30rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.create-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #007AFF;\r\n  color: #ffffff;\r\n  border-radius: 36rpx;\r\n  padding: 0 30rpx;\r\n  height: 72rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.create-btn text {\r\n  margin-left: 8rpx;\r\n}\r\n\r\n.content {\r\n  margin-top: 112rpx;\r\n  flex: 1;\r\n}\r\n\r\n.chat-list {\r\n  padding: 20rpx;\r\n}\r\n\r\n.chat-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx;\r\n  background-color: #ffffff;\r\n  border-radius: 12rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.chat-avatar {\r\n  position: relative;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.chat-avatar image {\r\n  width: 100rpx;\r\n  height: 100rpx;\r\n  border-radius: 50%;\r\n}\r\n\r\n.unread-badge {\r\n  position: absolute;\r\n  top: -6rpx;\r\n  right: -6rpx;\r\n  background-color: #ff3b30;\r\n  color: #ffffff;\r\n  font-size: 24rpx;\r\n  min-width: 36rpx;\r\n  height: 36rpx;\r\n  border-radius: 18rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 0 8rpx;\r\n}\r\n\r\n.chat-info {\r\n  flex: 1;\r\n}\r\n\r\n.chat-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.chat-name {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n}\r\n\r\n.chat-time {\r\n  font-size: 24rpx;\r\n  color: #999999;\r\n}\r\n\r\n.chat-preview {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.chat-message {\r\n  font-size: 28rpx;\r\n  color: #666666;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.create-popup {\r\n  background-color: #ffffff;\r\n  border-radius: 12rpx;\r\n  width: 600rpx;\r\n  max-width: 90vw;\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 30rpx;\r\n  border-bottom: 1rpx solid #eeeeee;\r\n}\r\n\r\n.popup-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n}\r\n\r\n.close-btn {\r\n  font-size: 40rpx;\r\n  color: #999999;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.popup-content {\r\n  padding: 30rpx;\r\n}\r\n\r\n.search-box {\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.user-list {\r\n  max-height: 600rpx;\r\n}\r\n\r\n.user-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx 0;\r\n  border-bottom: 1rpx solid #eeeeee;\r\n}\r\n\r\n.user-avatar {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.user-info {\r\n  flex: 1;\r\n}\r\n\r\n.user-name {\r\n  font-size: 28rpx;\r\n  color: #333333;\r\n  margin-bottom: 4rpx;\r\n  display: block;\r\n}\r\n\r\n.user-id {\r\n  font-size: 24rpx;\r\n  color: #999999;\r\n}\r\n\r\n/* 图标字体 */\r\n@font-face {\r\n  font-family: 'iconfont';\r\n  src: url('//at.alicdn.com/t/font_xxx.woff2') format('woff2');\r\n}\r\n\r\n.iconfont {\r\n  font-family: 'iconfont';\r\n}\r\n\r\n.icon-plus:before { content: '\\e6da'; }\r\n</style> ","import MiniProgramPage from 'D:/Git clone/TravelDiaryPlatform/app/rednote/pages/user/msg.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","MiniProgramPage"],"mappings":";;;;;;;;;AAqFA,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,sBAAsBA,cAAG,IAAC,KAAK;AACrC,UAAM,iBAAiBA,cAAG,IAAC,EAAE;AAC7B,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAE5B,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,IACH,CAAC;AAGD,UAAM,eAAe,MAAM;AACzBC,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACV,CAAG;AAAA,IACH;AAGA,UAAM,mBAAmB,MAAM;AAC7B,0BAAoB,QAAQ;AAAA,IAC9B;AAGA,UAAM,mBAAmB,MAAM;AAE7B,oBAAc,QAAQ;AAAA,QACpB;AAAA,UACE,IAAI;AAAA,UACJ,UAAU;AAAA,UACV,QAAQ;AAAA,QACT;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,UAAU;AAAA,UACV,QAAQ;AAAA,QACT;AAAA,MACF;AAAA,IACH;AAGA,UAAM,mBAAmB,CAAC,SAAS;AACjC,0BAAoB,QAAQ;AAC5BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,yBAAyB,KAAK,EAAE;AAAA,MACzC,CAAG;AAAA,IACH;AAGA,UAAM,aAAa,CAAC,SAAS;AAC3BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,yBAAyB,KAAK,EAAE;AAAA,MACzC,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/JA,GAAG,WAAWC,SAAe;"}