{"version":3,"file":"msg.js","sources":["pages/user/msg.vue","../../../biji/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9tc2cudnVl"],"sourcesContent":["<!-- pages/user/msg.vue -->\n<template>\n  <view class=\"msg-container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"header\">\n      <view class=\"nav-left\">\n        <input\n          v-model=\"searchText\"\n          placeholder=\"搜索消息\"\n          class=\"search-input\"\n          @confirm=\"handleSearch\"\n        />\n      </view>\n      <view class=\"nav-right\">\n        <button class=\"create-btn\" @tap=\"handleCreateChat\">\n          <text class=\"iconfont icon-plus\"></text>\n          <text>发起聊天</text>\n        </button>\n      </view>\n    </view>\n\n    <scroll-view class=\"content\" scroll-y>\n      <view class=\"chat-list\">\n        <view \n          v-for=\"chat in chatList\" \n          :key=\"chat.id\" \n          class=\"chat-item\"\n          @tap=\"handleChat(chat)\"\n        >\n          <view class=\"chat-avatar\">\n            <image :src=\"chat.avatar\" mode=\"aspectFill\" />\n            <view v-if=\"chat.unread\" class=\"unread-badge\">{{ chat.unread }}</view>\n          </view>\n          <view class=\"chat-info\">\n            <view class=\"chat-header\">\n              <text class=\"chat-name\">{{ chat.name }}</text>\n              <text class=\"chat-time\">{{ chat.time }}</text>\n            </view>\n            <view class=\"chat-preview\">\n              <text class=\"chat-message\">{{ chat.lastMessage }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n\n    <!-- 新建聊天弹窗 -->\n    <uni-popup ref=\"createPopup\" type=\"center\">\n      <view class=\"create-popup\">\n        <view class=\"popup-header\">\n          <text class=\"popup-title\">发起聊天</text>\n          <text class=\"close-btn\" @tap=\"createDialogVisible = false\">×</text>\n        </view>\n        <view class=\"popup-content\">\n          <view class=\"search-box\">\n            <input\n              v-model=\"searchUserText\"\n              placeholder=\"搜索用户\"\n              class=\"search-input\"\n              @input=\"handleSearchUser\"\n            />\n          </view>\n          <scroll-view class=\"user-list\" scroll-y>\n            <view \n              v-for=\"user in searchResults\" \n              :key=\"user.id\"\n              class=\"user-item\"\n              @tap=\"handleSelectUser(user)\"\n            >\n              <image :src=\"user.avatar\" class=\"user-avatar\" mode=\"aspectFill\" />\n              <view class=\"user-info\">\n                <text class=\"user-name\">{{ user.username }}</text>\n                <text class=\"user-id\">ID: {{ user.id }}</text>\n              </view>\n            </view>\n          </scroll-view>\n        </view>\n      </view>\n    </uni-popup>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst searchText = ref('')\nconst createDialogVisible = ref(false)\nconst searchUserText = ref('')\nconst searchResults = ref([])\n\nconst chatList = ref([\n  {\n    id: 'chat001',\n    name: '张三',\n    avatar: 'https://placeholder.com/80x80',\n    lastMessage: '你好，最近怎么样？',\n    time: '10:30',\n    unread: 2\n  },\n  {\n    id: 'chat002',\n    name: '李四',\n    avatar: 'https://placeholder.com/80x80',\n    lastMessage: '周末有空一起吃饭吗？',\n    time: '昨天',\n    unread: 0\n  },\n  {\n    id: 'chat003',\n    name: '王五',\n    avatar: 'https://placeholder.com/80x80',\n    lastMessage: '好的，没问题！',\n    time: '周一',\n    unread: 0\n  }\n])\n\n// 处理搜索\nconst handleSearch = () => {\n  uni.showToast({\n    title: '搜索功能开发中',\n    icon: 'none'\n  })\n}\n\n// 处理发起聊天\nconst handleCreateChat = () => {\n  createDialogVisible.value = true\n}\n\n// 处理搜索用户\nconst handleSearchUser = () => {\n  // 这里添加搜索用户的逻辑\n  searchResults.value = [\n    {\n      id: 'user001',\n      username: '张三',\n      avatar: 'https://placeholder.com/80x80'\n    },\n    {\n      id: 'user002',\n      username: '李四',\n      avatar: 'https://placeholder.com/80x80'\n    }\n  ]\n}\n\n// 处理选择用户\nconst handleSelectUser = (user) => {\n  createDialogVisible.value = false\n  uni.navigateTo({\n    url: `/pages/chat/detail?id=${user.id}`\n  })\n}\n\n// 处理进入聊天\nconst handleChat = (chat) => {\n  uni.navigateTo({\n    url: `/pages/chat/detail?id=${chat.id}`\n  })\n}\n</script>\n\n<style>\n.msg-container {\n  min-height: 100vh;\n  background-color: #f5f7fa;\n  display: flex;\n  flex-direction: column;\n}\n\n.header {\n  background-color: #ffffff;\n  box-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.1);\n  padding: 20rpx;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 100;\n}\n\n.nav-left {\n  flex: 1;\n  margin-right: 20rpx;\n}\n\n.search-input {\n  width: 100%;\n  height: 72rpx;\n  background-color: #f5f5f5;\n  border-radius: 36rpx;\n  padding: 0 30rpx;\n  font-size: 28rpx;\n}\n\n.create-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #007AFF;\n  color: #ffffff;\n  border-radius: 36rpx;\n  padding: 0 30rpx;\n  height: 72rpx;\n  font-size: 28rpx;\n}\n\n.create-btn text {\n  margin-left: 8rpx;\n}\n\n.content {\n  margin-top: 112rpx;\n  flex: 1;\n}\n\n.chat-list {\n  padding: 20rpx;\n}\n\n.chat-item {\n  display: flex;\n  align-items: center;\n  padding: 20rpx;\n  background-color: #ffffff;\n  border-radius: 12rpx;\n  margin-bottom: 20rpx;\n}\n\n.chat-avatar {\n  position: relative;\n  margin-right: 20rpx;\n}\n\n.chat-avatar image {\n  width: 100rpx;\n  height: 100rpx;\n  border-radius: 50%;\n}\n\n.unread-badge {\n  position: absolute;\n  top: -6rpx;\n  right: -6rpx;\n  background-color: #ff3b30;\n  color: #ffffff;\n  font-size: 24rpx;\n  min-width: 36rpx;\n  height: 36rpx;\n  border-radius: 18rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 8rpx;\n}\n\n.chat-info {\n  flex: 1;\n}\n\n.chat-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8rpx;\n}\n\n.chat-name {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333333;\n}\n\n.chat-time {\n  font-size: 24rpx;\n  color: #999999;\n}\n\n.chat-preview {\n  display: flex;\n  align-items: center;\n}\n\n.chat-message {\n  font-size: 28rpx;\n  color: #666666;\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.create-popup {\n  background-color: #ffffff;\n  border-radius: 12rpx;\n  width: 600rpx;\n  max-width: 90vw;\n}\n\n.popup-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30rpx;\n  border-bottom: 1rpx solid #eeeeee;\n}\n\n.popup-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333333;\n}\n\n.close-btn {\n  font-size: 40rpx;\n  color: #999999;\n  padding: 0 20rpx;\n}\n\n.popup-content {\n  padding: 30rpx;\n}\n\n.search-box {\n  margin-bottom: 20rpx;\n}\n\n.user-list {\n  max-height: 600rpx;\n}\n\n.user-item {\n  display: flex;\n  align-items: center;\n  padding: 20rpx 0;\n  border-bottom: 1rpx solid #eeeeee;\n}\n\n.user-avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 50%;\n  margin-right: 20rpx;\n}\n\n.user-info {\n  flex: 1;\n}\n\n.user-name {\n  font-size: 28rpx;\n  color: #333333;\n  margin-bottom: 4rpx;\n  display: block;\n}\n\n.user-id {\n  font-size: 24rpx;\n  color: #999999;\n}\n\n/* 图标字体 */\n@font-face {\n  font-family: 'iconfont';\n  src: url('//at.alicdn.com/t/font_xxx.woff2') format('woff2');\n}\n\n.iconfont {\n  font-family: 'iconfont';\n}\n\n.icon-plus:before { content: '\\e6da'; }\n</style> ","import MiniProgramPage from 'D:/gamee_js/app/rednote/pages/user/msg.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","MiniProgramPage"],"mappings":";;;;;;;;;AAqFA,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,sBAAsBA,cAAG,IAAC,KAAK;AACrC,UAAM,iBAAiBA,cAAG,IAAC,EAAE;AAC7B,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAE5B,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,MACD;AAAA,QACE,IAAI;AAAA,QACJ,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,aAAa;AAAA,QACb,MAAM;AAAA,QACN,QAAQ;AAAA,MACT;AAAA,IACH,CAAC;AAGD,UAAM,eAAe,MAAM;AACzBC,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,MACV,CAAG;AAAA,IACH;AAGA,UAAM,mBAAmB,MAAM;AAC7B,0BAAoB,QAAQ;AAAA,IAC9B;AAGA,UAAM,mBAAmB,MAAM;AAE7B,oBAAc,QAAQ;AAAA,QACpB;AAAA,UACE,IAAI;AAAA,UACJ,UAAU;AAAA,UACV,QAAQ;AAAA,QACT;AAAA,QACD;AAAA,UACE,IAAI;AAAA,UACJ,UAAU;AAAA,UACV,QAAQ;AAAA,QACT;AAAA,MACF;AAAA,IACH;AAGA,UAAM,mBAAmB,CAAC,SAAS;AACjC,0BAAoB,QAAQ;AAC5BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,yBAAyB,KAAK,EAAE;AAAA,MACzC,CAAG;AAAA,IACH;AAGA,UAAM,aAAa,CAAC,SAAS;AAC3BA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,yBAAyB,KAAK,EAAE;AAAA,MACzC,CAAG;AAAA,IACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/JA,GAAG,WAAWC,SAAe;"}